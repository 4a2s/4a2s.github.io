import{r as u,j as E,f as I,c as a,a as t,k as h,v as K,l as y,F as m,h as f,o,t as n,p as O,e as T}from"./entry.aMp2o0CY.js";import{_ as A}from"./_plugin-vue_export-helper.x3n3nnut.js";var B={};const c=i=>(O("data-v-be9adcf3"),i=i(),T(),i),D={class:"p-4"},M=c(()=>t("h1",{class:"text-3xl font-bold mb-6 text-primary"},"Inventaire",-1)),N={class:"mb-4 flex flex-wrap gap-4"},F=c(()=>t("option",{value:""},"üìç Tous les lieux",-1)),Q=["value"],R=c(()=>t("option",{value:""},"üß∞ Tous les kits",-1)),X=["value"],$=c(()=>t("option",{value:""},"üì¶ Toutes les cat√©gories",-1)),q=["value"],z={class:"table"},G=c(()=>t("thead",null,[t("tr",null,[t("th",null,"Objet"),t("th",null,"Quantit√©"),t("th",null,"Lieu"),t("th",null,"Kit"),t("th",null,"Cat√©gorie"),t("th",null,"Note")])],-1)),H={__name:"index",setup(i){const S=B.URL_EXCEL,r=u([]),x=u(""),d=u(""),p=u(""),v=u(""),g=u([]),C=u([]),L=u([]),j=async()=>{try{const l=await(await fetch(S)).text();r.value=k(l),g.value=Array.from(new Set(r.value.map(e=>e.Lieu))).sort(),C.value=Array.from(new Set(r.value.map(e=>e.Kit))).sort(),L.value=Array.from(new Set(r.value.map(e=>e.Cat√©gorie))).sort()}catch(s){alert("Erreur lors du chargement des donn√©es : "+s),console.error(s)}},k=s=>{const l=s.trim().split(`
`).map(b=>b.split(",").map(_=>_.replace(/^"|"$/g,"").trim())),e=l[0];return l.slice(1).map(b=>{const _={};return e.forEach((U,w)=>{_[U]=b[w]||""}),_})},V=E(()=>r.value.filter(s=>(!d.value||s.Lieu===d.value)&&(!p.value||s.Kit===p.value)&&(!v.value||s.Cat√©gorie===v.value)&&s.Objet.toLowerCase().includes(x.value.toLowerCase())));return I(j),(s,l)=>(o(),a("div",D,[M,t("div",N,[h(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>x.value=e),placeholder:"üîç Rechercher un objet...",class:"input"},null,512),[[K,x.value]]),h(t("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),class:"input"},[F,(o(!0),a(m,null,f(g.value,e=>(o(),a("option",{key:e,value:e},n(e),9,Q))),128))],512),[[y,d.value]]),h(t("select",{"onUpdate:modelValue":l[2]||(l[2]=e=>p.value=e),class:"input"},[R,(o(!0),a(m,null,f(C.value,e=>(o(),a("option",{key:e,value:e},n(e),9,X))),128))],512),[[y,p.value]]),h(t("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>v.value=e),class:"input"},[$,(o(!0),a(m,null,f(L.value,e=>(o(),a("option",{key:e,value:e},n(e),9,q))),128))],512),[[y,v.value]])]),t("table",z,[G,t("tbody",null,[(o(!0),a(m,null,f(V.value,e=>(o(),a("tr",{key:e.Objet},[t("td",null,n(e.Objet),1),t("td",null,n(e.Quantit√©),1),t("td",null,n(e.Lieu),1),t("td",null,n(e.Kit),1),t("td",null,n(e.Cat√©gorie),1),t("td",null,n(e.Note),1)]))),128))])])]))}},W=A(H,[["__scopeId","data-v-be9adcf3"]]);export{W as default};
