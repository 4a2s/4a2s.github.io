import{r as u,j as w,f as K,c as a,a as t,k as h,v as M,l as g,F as m,h as f,o,t as n,p as U,e as E}from"./entry.uQXmmTRW.js";import{_ as O}from"./_plugin-vue_export-helper.x3n3nnut.js";const c=i=>(U("data-v-1d9b709a"),i=i(),E(),i),T={class:"p-4"},q=c(()=>t("h1",{class:"text-3xl font-bold mb-6 text-primary"},"Inventaire",-1)),z={class:"mb-4 flex flex-wrap gap-4"},A=c(()=>t("option",{value:""},"üìç Tous les lieux",-1)),B=["value"],D=c(()=>t("option",{value:""},"üß∞ Tous les kits",-1)),N=["value"],Q=c(()=>t("option",{value:""},"üì¶ Toutes les cat√©gories",-1)),F=["value"],Y={class:"table"},G=c(()=>t("thead",null,[t("tr",null,[t("th",null,"Objet"),t("th",null,"Quantit√©"),t("th",null,"Lieu"),t("th",null,"Kit"),t("th",null,"Cat√©gorie"),t("th",null,"Note")])],-1)),J="https://docs.google.com/spreadsheets/d/1jbjMIfJrWoY691Ye_7QGzbqvucMtZEzb/gviz/tq?tqx=out:csv",R={__name:"index",setup(i){const r=u([]),b=u(""),d=u(""),p=u(""),v=u(""),y=u([]),S=u([]),j=u([]),C=async()=>{try{const l=await(await fetch(J)).text();r.value=L(l),y.value=Array.from(new Set(r.value.map(e=>e.Lieu))).sort(),S.value=Array.from(new Set(r.value.map(e=>e.Kit))).sort(),j.value=Array.from(new Set(r.value.map(e=>e.Cat√©gorie))).sort()}catch(s){alert("Erreur lors du chargement des donn√©es : "+s),console.error(s)}},L=s=>{const l=s.trim().split(`
`).map(x=>x.split(",").map(_=>_.replace(/^"|"$/g,"").trim())),e=l[0];return l.slice(1).map(x=>{const _={};return e.forEach((V,I)=>{_[V]=x[I]||""}),_})},k=w(()=>r.value.filter(s=>(!d.value||s.Lieu===d.value)&&(!p.value||s.Kit===p.value)&&(!v.value||s.Cat√©gorie===v.value)&&s.Objet.toLowerCase().includes(b.value.toLowerCase())));return K(C),(s,l)=>(o(),a("div",T,[q,t("div",z,[h(t("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=e=>b.value=e),placeholder:"üîç Rechercher un objet...",class:"input"},null,512),[[M,b.value]]),h(t("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),class:"input"},[A,(o(!0),a(m,null,f(y.value,e=>(o(),a("option",{key:e,value:e},n(e),9,B))),128))],512),[[g,d.value]]),h(t("select",{"onUpdate:modelValue":l[2]||(l[2]=e=>p.value=e),class:"input"},[D,(o(!0),a(m,null,f(S.value,e=>(o(),a("option",{key:e,value:e},n(e),9,N))),128))],512),[[g,p.value]]),h(t("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>v.value=e),class:"input"},[Q,(o(!0),a(m,null,f(j.value,e=>(o(),a("option",{key:e,value:e},n(e),9,F))),128))],512),[[g,v.value]])]),t("table",Y,[G,t("tbody",null,[(o(!0),a(m,null,f(k.value,e=>(o(),a("tr",{key:e.Objet},[t("td",null,n(e.Objet),1),t("td",null,n(e.Quantit√©),1),t("td",null,n(e.Lieu),1),t("td",null,n(e.Kit),1),t("td",null,n(e.Cat√©gorie),1),t("td",null,n(e.Note),1)]))),128))])])]))}},$=O(R,[["__scopeId","data-v-1d9b709a"]]);export{$ as default};
